<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <link rel="stylesheet" type="text/css" href="{% static 'css/footer.css' %}">
    <!-- <link rel="stylesheet" type="text/css" href="{% static 'css/about.css' %}"> -->

    <link rel="shortcut icon" href="{% static 'images/logo.png' %}" type="image/x-icon">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    
    <title>About Us </title>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet" />
</head>

    <style>
        @import 'https://fonts.googleapis.com/css?family=Montserrat|Open+Sans';

        .navbar-brand {
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase
        }

        .navbar .nav {
            font-family: 'Open Sans', sans-serif;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-size: 1.5rem;
            padding: 10px;
        }

        .navbar-inverse {
            background-color: #057405
        }

        .navbar-inverse .navbar-nav>.active>a:hover,
        .navbar-inverse .navbar-nav>li>a:hover,
        .navbar-inverse .navbar-nav>li>a:focus {
            background-color: #044e04
        }

        .navbar-inverse .navbar-nav>.active>a,
        .navbar-inverse .navbar-nav>.open>a,
        .navbar-inverse .navbar-nav>.open>a,
        .navbar-inverse .navbar-nav>.open>a:hover,
        .navbar-inverse .navbar-nav>.open>a,
        .navbar-inverse .navbar-nav>.open>a:hover,
        .navbar-inverse .navbar-nav>.open>a:focus {
            background-color: #003300
        }

        .dropdown-menu {
            background-color: #006B00
        }

        .dropdown-menu>li>a:hover,
        .dropdown-menu>li>a:focus {
            background-color: #002200
        }

        .navbar-inverse {
            background-image: none;
        }

        .dropdown-menu>li>a:hover,
        .dropdown-menu>li>a:focus {
            background-image: none;
        }

        .navbar-inverse {
            border-color: #003300
        }

        .navbar-inverse .navbar-brand {
            color: #FFFFFF
        }

        .navbar-inverse .navbar-brand:hover {
            color: #FFCC00
        }

        .navbar-inverse .navbar-nav>li>a {
            color: #FFFFFF
        }

        .navbar-inverse .navbar-nav>li>a:hover,
        .navbar-inverse .navbar-nav>li>a:focus {
            color: #FFCC00
        }

        .navbar-inverse .navbar-nav>.active>a,
        .navbar-inverse .navbar-nav>.open>a,
        .navbar-inverse .navbar-nav>.open>a:hover,
        .navbar-inverse .navbar-nav>.open>a:focus {
            color: #FFCC00
        }

        .navbar-inverse .navbar-nav>.active>a:hover,
        .navbar-inverse .navbar-nav>.active>a:focus {
            color: #FFCC00
        }

        .dropdown-menu>li>a {
            color: #FFFFFF
        }

        .dropdown-menu>li>a:hover,
        .dropdown-menu>li>a:focus {
            color: #FFCC00
        }

        .navbar-inverse .navbar-nav>.dropdown>a .caret {
            border-top-color: #FFFFFF
        }

        .navbar-inverse .navbar-nav>.dropdown>a:hover .caret {
            border-top-color: #FFFFFF
        }

        .navbar-inverse .navbar-nav>.dropdown>a .caret {
            border-bottom-color: #FFFFFF
        }

        .navbar-inverse .navbar-nav>.dropdown>a:hover .caret {
            border-bottom-color: #FFFFFF
        }

        .whatsapp-icon {
    position: fixed;
    bottom: 20px; /* Adjust as needed */
    right: 20px; /* Adjust as needed */
    z-index: 9999; /* Ensure it appears above other content */
}
</style>
<body>
    <header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="./" class="navbar-brand">Real Rupees</a>
            </div>
            <nav class="collapse navbar-collapse bs-navbar-collapse" id="bs-example-navbar-collapse-1" role="navigation">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="{% url 'home' %}">Home</a>
                    </li>
                    <li>
                        <a href="{% url 'property' %}">Property</a>
                    </li>
                    <li>
                        <a href="{% url 'about_us' %}">About Us</a>
                    </li>
                    <li>
                        <a href="{% url 'contact_us' %}">Contact Us</a>
                    </li>
                    <li>
                        <a href="{% url 'test' %}">Testimonals</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="tel:+1234567890"><i class="fas fa-phone-alt"></i>9747858495</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <br><br><br><br><br>

    <div class="container" style="margin-top: 40px;">
        <h1 style="text-align: center;">Property Page</h1>
        <form method="post" action="{% url 'add_property' %}" enctype="multipart/form-data">
            {% csrf_token %}
            
            <!-- Inputs for Images -->
            <label for="images">Images:</label>
            <input type="file" class="form-control" name="images" accept="image/*" multiple required>
            <br>
            
            <!-- Inputs for Property Details -->
            <label for="heading">Heading:</label>
            <input type="text" class="form-control" name="heading" required>
            <br>
            <label for="subheading">Subheading:</label>
            <input type="text" class="form-control" name="subheading" required>
            <br>
            <label for="property_id">Property Id:</label>
            <input type="text" class="form-control" name="property_id" required>
            <br>
            <label for="paragraph">Paragraph:</label>
            <textarea class="form-control" id="editor" name="paragraph" required></textarea>
            <br>
            <label for="youtube_url">YouTube URL:</label>
            <input type="url" class="form-control" name="youtube_url">
            <br>
            <label for="google_map_link">Google Map Link:</label>
            <input type="url" class="form-control" name="google_map_link">
            <br>
 
            <label for="google_map_link">Price:</label>
            <input type="text" class="form-control" name="price">
            <br>
            <label for="status">Status:</label>
            <select class="form-control" name="status">
                <option value="For Sale">For Sale</option>
                <option value="Sold">Sold</option>
            </select>
            <br>
            <label for="google_map_link">Type:</label>
            <input type="text" class="form-control" name="type">
            <br>
            <!-- State Dropdown -->
<!-- State Dropdown -->
<label for="state">State:</label>
<select name="state_id" id="id_state" class="form-control">
    <option value="Select The State">Select The State</option>
    {% for state in states %}
        <option value="{{ state.id }}">{{ state.name }}</option>
    {% endfor %}
</select>
<br>

<!-- District Dropdown -->
<label for="district">District:</label>
<select name="district_id" id="id_district" class="form-control">
    <option value="Select The District">Select The District</option>
    {% for district in districts %}
        <option value="{{ district.id }}" data-state="{{ district.state.id }}">{{ district.name }}</option>
    {% endfor %}
</select>
<br>

<!-- Locality Dropdown -->
<label for="locality">Locality:</label>
<select name="locality_id" id="id_locality" class="form-control">
    <option value="Select The Locality">Select The Locality</option>
    {% for locality in localities %}
        <option value="{{ locality.id }}" data-district="{{ locality.district.id }}">{{ locality.name }}</option>
    {% endfor %}
</select>
<br>

            
            

        
            <!-- Submit Button -->
            <input type="submit" class="btn" value="Submit" style="color:#fff; background-color: #bd4419;">
        </form>
        
    </div>
    <h2 class="text-center">Added Properties</h2>
<table class="table" style="margin-top: 30px;">
    <thead>
        <tr>
            <th>Images</th>
            <th>Heading</th>
            <th>Subheading</th>
            <th>Property Id</th>
            <th>Paragraph</th>
            <th>Price</th>
            <th>Status</th>
            <th>Type</th>
            <th>State</th>
            <th>District</th>
            <th>Locality</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for property in add_property %}
        <tr>
            <td>
                {% for img in property.images.all %}
                <img src="{{ img.image.url }}" alt="thumb" style="width: 50px; height: 50px;">
                {% empty %}
                <span>No image</span>
                {% endfor %}
            </td>
            <td>{{ property.heading }}</td>
            <td>{{ property.subheading }}</td>
            <td>{{ property.property_id }}</td>
            <td>{{ property.paragraph|safe }}</td>
            <td>{{ property.price }}</td>
            <td>{{ property.status }}</td>
            <td>{{ property.type }}</td>
            <td>{{ property.state.name }}</td>
            <td>{{ property.district.name }}</td>
            <td>{{ property.locality.name }}</td>
            <td>
                <a href="{% url 'edit_property' property.id %}" class="btn btn-sm" style="background-color: #000B41; color: #fff;">Edit</a>
                <a href="{% url 'delete_property' property.id %}" class="btn btn-sm" style="background-color: #fb0404; color: #ffffff; margin-top: 10px;">Delete</a>
                 
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
    
 
    
    





    <script src="https://cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <script>
  
  CKEDITOR.replace('editor');

  
document.addEventListener('DOMContentLoaded', function() {
    const stateDropdown = document.getElementById('id_state');
    const districtDropdown = document.getElementById('id_district');
    const localityDropdown = document.getElementById('id_locality');
    
    function filterOptions(dropdown, key, value) {
        for (let option of dropdown.options) {
            if (option.getAttribute(key) === value || value === '') {
                option.style.display = '';
            } else {
                option.style.display = 'none';
            }
        }
    }

    stateDropdown.addEventListener('change', function() {
        const selectedState = this.value;
        filterOptions(districtDropdown, 'data-state', selectedState);
        filterOptions(localityDropdown, 'data-district', '');
    });
    
    districtDropdown.addEventListener('change', function() {
        const selectedDistrict = this.value;
        filterOptions(localityDropdown, 'data-district', selectedDistrict);
    });
    
    // Initialize district and locality options based on the initial selected state
    const initialSelectedState = stateDropdown.value;
    filterOptions(districtDropdown, 'data-state', initialSelectedState);
    filterOptions(localityDropdown, 'data-district', '');
});














    
    document.getElementById("whatsapp-button").addEventListener("click", function () {
          var phoneNumber = "+91 9747858495";
          var message = "Hello, I'd like to get in touch with you!";
          var url = "https://api.whatsapp.com/send?phone=" + phoneNumber + "&text=" + encodeURIComponent(message);
          window.open(url, "_blank");
      });







    
    
      document.getElementById('editor').addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            // Prevent the default behavior (line break) and insert a newline character
            e.preventDefault();
            const textarea = document.getElementById('editor');
            const cursorPos = textarea.selectionStart;
            const textBefore = textarea.value.substring(0, cursorPos);
            const textAfter = textarea.value.substring(cursorPos);

            textarea.value = textBefore + '\n' + textAfter;

            // Move the cursor to the next line
            textarea.setSelectionRange(cursorPos + 1, cursorPos + 1);
        }
    });
    
  </script>
  </body>
  </html>